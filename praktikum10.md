# Praktikum 10 – ressursihaldus

---


Selles praktikumis õppisin kasutama operatsioonisüsteemi sisseehitatud tööriistu, et tuvastada protsesside ressursikasutust, mäluseisu, ketta- ja võrgukoormust ning analüüsida süsteemi jõudlust nii Linuxis kui ka Windowsis. Praktikum võttis ligikaudu 7h.


---

| **Küsimus** | **Linux** | **Windows** | **Linuxis kasutatud käsk** | **Windowsis kasutatud tööriist** |
|--------|---------|---------|--------|---------|
| 1. Mitu protsessi kokku arvutis käib? | 236 | 129 | ```ps aux \| wc -l ``` | Tegumi Haldur -> Jõudlus -> CPU |
| 2. Milline on kõige esimesena käivitatud protsess? | /sbin/init splash | smss.exe | ```ps axo pid,cmd,comm,etime``` | Process Explorer -> Start Time |
| 3. Milliste kasutajate protsesse arvutis käib? | avahi, colord, cups-browsed, joosep, messagebus, polkitd, root, rtkit, syslog, systemd-oom, systemd-resolve, systemd-timesync | SYSTEM, LOCAL SERVICE, NETWORK SERVICE, DWM-1, UMFD-0,  Joosep | ```ps -eo user \| sort \| uniq``` | Sysinternals Process Exploreri administraatoriõigustes (File -> Show Details for All Processes) -> paremklõps veerupäistel -> Select Columns -> Process Image -> User Name) |
| 4. Kui kaua on arvuti järjest töötanud (up time)? | 15:21:30 up 19 min, 1 user, load average: 0.00, 0.20, 0.47 | 0:01:18:55 | ```uptime``` | Task Manager -> Performance -> CPU -> Up time |
| 5. Milline protsess käivitati kõige hiljem (viimasena)? | 5294  Sat Nov 22 15:25:21 2025  [kworker/u13:3-events_unbound] |  Taskmgr.exe | ```ps -eo pid,lstart,cmd --sort=start_time \| tail -5``` | Sysinternals Process Exploreri administraatoriõigustes (File -> Show Details for All Processes) -> paremklõps veerupäistel -> Select Columns -> Process Performance -> Start Time |
| 6. Milline on kõige rohkem protsessoriaega võttev protsess ja kui mitu protsenti protsessoriajast ta tarbib? | Kõige rohkem protsessoriaega kasutav protsess on ptxvis (PID 4108), mis tarbib umbes 4.3% protsessoriajast. | Task Manager, mis kasutab umbes 11,3% protsessorist. | ```top``` | Task Manager -> Processes -> CPU |
| 7. Milline on kõige rohkem virtuaalmälu (aadressiruumi, commit, Virtual Size) võttev protsess? | Kõige rohkem virtuaalmälu kasutav protsess on gnome-shell (PID 2377), mis kasutab umbes 4.57 GB (4,570,288 KB) virtuaalmälu. | dwm.exe ~2 152 488 K (ehk umbes 2,05 GB virtuaalmälu) | ```ps -eo pid,comm,vsz --sort=-vsz \| head -5``` |  Sysinternals Process Exploreri administraatoriõigustes (File -> Show Details for All Processes) -> paremklõps veerupäistel -> Select Columns -> Process Memory -> Virtual Size, Shared Commit |
| 8. Milline on kõige rohkem füüsilist mälu (working set) võttev protsess? | Kõige rohkem füüsilist mälu kasutav protsess on gnome-shell (PID 2377), mis tarbib umbes 422 476 KB (ligikaudu 412 MB) RAM-i. | Kõige rohkem füüsilist mälu kasutav protsess on explorer.exe, mis kasutas umbes 114 MB RAM-i | ```ps -eo pid,comm,vsz --sort=-vsz \| head -5``` | Sysinternals Process Exploreri administraatoriõigustes (File -> Show Details for All Processes) -> paremklõps veerupäistel -> Select Columns -> Working Set |
| 9. Kui palju füüsilisest mälust (Physical Memory) on vaba ja kui palju hõivatud? | Füüsilisest mälust on kasutusel 1.4 GiB ja vaba on 240 MiB (saadaval kokku umbes 1.9 GiB arvestades buff/cache'i) | Hõivatud on 2,5 GB ja saadaval ehk vaba on umbes 1,4 GB. | ```free -h``` | Task Manager -> Performance -> Memory |
| 10. Kui palju on põhikettal (C:, /) vaba ruumi mahult (GB) ja protsentuaalselt? | Põhikettal on vaba 6.2 GB ehk umbes 30% ruumist. | Põhikettal C: on kokku 63,2 GB, millest vaba ruumi on 34,6 GB, mis moodustab ligikaudu 55% kogu kettamahust. | ```df -h``` | Disk Manager -> (C:) -> Attributes |
| 11. Milline on kõige suurem arvutis olev fail ja kõige rohkem andmemahtu hõivav kaust (arvesse võta ka alamkaustade mahtu, ja jätta juurkaust / või C: välja)? | Kõige suurem fail arvutis on /swap.img (u 3,7 GiB) ja kõige rohkem mahtu kasutav kaust (v.a juurkaust /) on /usr (u 6,6 GiB) | Kõige suurem fail on C:\pagefile.sys (u 1,4 GB) ja kõige rohkem ruumi võttev kaust (v.a C:) on C:\Windows umbes 16 GB mahuga. | ```sudo find / -xdev -type f -printf '%s %p\n' 2>/dev/null \| sort -nr \| head -1``` ja ```sudo du -xh --max-depth=1 / \| sort -h \| tail -n 5``` | WinDirStat |
| 12. Võrrelge terminali käskude: ```sha1sum /dev/zero \| sha1sum /dev/zero``` ja ```sha1sum /dev/urandom \| sha1sum /dev/urandom``` protsessori kasutust. Võrdluseks avage teine terminaliaken ja top samaaegseks käivitamiseks. Kirjutage millisele CPU alamtegevusele (us, sy, id, wa, st jne) kulub enim protsessori aega kummagi käsu puhul. (Ainult Linuxis) Lisa ka ekraanipilt aruande juurde vähemalt ühe käsu vastuse kontrollimiseks. | ```sha1sum /dev/zero \| sha1sum /dev/zero``` puhul kulub CPU aeg peamiselt kasutajarežiimile (us), sest nullvoo hash’imine ei koorma kernelit – sy on väike ja suurem osa tuumasid jääb jõude (id). ```sha1sum /dev/urandom \| sha1sum /dev/urandom``` korral on endiselt suurim aktiivne osa us, kuid sy kasvab märgatavalt, kuna kernel peab pidevalt genereerima juhuslikke bitte. Seetõttu on /dev/urandom CPU jaoks “raskem” sisend kui /dev/zero. |  | ```sha1sum /dev/zero \| sha1sum /dev/zero```, ```sha1sum /dev/urandom \| sha1sum /dev/urandom```, ```top```  |  |
| 13. Vasta järgnevatele alamküsimustele: (Ainult Windowsis)<br>1. Milline protsess kõige rohkem salvestusseadmele kirjutab?<br>2. Millisesse faili eelmise küsimuse protsess kõige rohkem kirjutab?<br>3. Milline protsess kõige rohkem salvestusseadmelt loeb?<br>4. Millisest failist eelmise küsimuse protsess kõige rohkem loeb?  |  | 1. System (PID 4), mis tegi ligikaudu 13,8 MB/s kettakirjutusi.<br>2. Disk Activity“ tabeli järgi kirjutab protsess System (PID 4) kõige rohkem faili C:\Windows\System32\catroot2\edbtmp.log, mis sai hetkel ligikaudu 525 KB/s kirjutusi.<br>3. System (PID 4), mis loeb umbes 61 323 B/s.<br>4. System loeb kõige rohkem just CatRoot kausta logi-/kataloogifaile (nt edb.log, edbtmp.log vms), lugemiskiirusega kuni ~20 890 B/s. |  | Task Manager -> Performance -> Resource Monitor |
| 14. Millise protsessi poolt tekitatud võrguliiklus on suurima mahuga? Vali antud protsessi poolt kasutatavatest ühendustest üks ning kirjuta välja järgnev: kohalik IP-aadress, kohalik port, ühenduse teise poole IP-aadress, port, latents ja antud ühenduse poolt kasutatav võrguliikluse kogumaht. (Ainult Windowsis)  |  | nextcloud.exe (PID 4600), mille Total (B/sec) väärtus on teistest protsessidest selgelt kõrgem. Valitud aktiivse ühenduse puhul on: kohalik IP-aadress: 10.0.2.15, kohalik port: 49981, kaugserveri IP-aadress: 193.40.5.90, kaugserveri port: 443 (HTTPS), latents: 1 ms, ühenduse koguliiklus: 206 B/sec. |  | Task Manager -> Performance -> Resource Monitor -> Networks |
| 15. Sõber kurdab, et tema arvuti on oluliselt aeglasemaks muutunud. Milliseid konkreetseid programme või käsureakäske kasutad põhjustaja tuvastamiseks. Mõlemal juhul kirjuta, mida konkreetselt jälgid (nt mis aken, veerud, numbrid jne). (Vali Linuxis või Windowsis) | Vaatan protsesside %CPU, %MEM, CPU statistikas eriti wa, us, sy. Kontrollin, kas RAM on täis; jälgin available ja swap used veerge. Vaatan, kas kettal on piisavalt vaba ruumi. Analüüsin ketta I/O koormust, eriti %util ja await. Otsin süsteemivigu (ketta-, mälu- või draiverivead). Tuvastan protsessid, mis kõige rohkem ressursse kasutavad. |  | ```top```, ```htop```, ```free -h```, ```df -h```, ```iostat -xz 1```, ```iotop```, ```journalctl -p 3 -xb```, ```ps aux --sort=-%cpu/-%mem```  |  |


---

## 12.
<img width="1271" height="805" alt="5e6a1440-e35e-40a1-a29f-b85208fb1941" src="https://github.com/user-attachments/assets/a5543b4d-ec60-499f-adf6-99f781da6b9e" />

---

## 14. 
<img width="1354" height="927" alt="93903ae4-1a5e-42da-a6a6-bdcabf055658" src="https://github.com/user-attachments/assets/848fc854-8eaa-4672-b356-3822baad4b77" />

